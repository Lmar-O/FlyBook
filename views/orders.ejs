<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>Orders</title>
<link rel="stylesheet" href="/styles/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="/styles/styles.css">
</head>
<body>
    <%- include('../partials/navbar.ejs') %>

    <div class="page-title-container">
        <h1 class="page-title">Orders</h1>
    </div>
    <hr class="page-title-hr">

    <div class="orders-container">
        <% if (data.orders.length > 0) { %>
            <% data.orders.forEach(order => { %>
                <div class="order-card">
                    <div class="order-card-header">
                        <p class="transaction-id">Transaction ID: <%= order.id %></p>
                        <p class="order-date">Date: <%= order.date %></p>
                        <p class="order-total">Total: <%= parseFloat(order.total).toFixed(2) %> USD</p>
                    </div>
                    <div class="order-items-container">
                        <% order.items_purchased.forEach(item => { %>
                            <div class="order-item-card">
                                <img src="<%= item.filePath %>" alt="Image of <%= item.title %>" />
                            </div>
                        <% }) %>
                    </div>
                </div>
            <% }) %>
        <% } else { %>
            <p>No orders found.</p>
        <% } %>
    </div>
</body>
</html>